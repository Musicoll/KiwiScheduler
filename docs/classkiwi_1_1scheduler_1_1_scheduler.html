<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>KiwiScheduler: Scheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KiwiScheduler
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>kiwi</b></li><li class="navelem"><b>scheduler</b></li><li class="navelem"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html">Scheduler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classkiwi_1_1scheduler_1_1_scheduler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Scheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The manager of tasks.  
 <a href="classkiwi_1_1scheduler_1_1_scheduler.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a666fc2139b18bc707cb180c5da1b8181"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a666fc2139b18bc707cb180c5da1b8181"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>time_point_t</b> = <a class="el" href="classkiwi_1_1scheduler_1_1_task.html#a4d3292c96f2e86b6a42e218aafd18d8d">Task::time_point_t</a></td></tr>
<tr class="separator:a666fc2139b18bc707cb180c5da1b8181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1a8f8d9584ce8e9e8e966d8079fd70"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e1a8f8d9584ce8e9e8e966d8079fd70"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#a2e1a8f8d9584ce8e9e8e966d8079fd70">id_t</a> = Task::id_t</td></tr>
<tr class="memdesc:a2e1a8f8d9584ce8e9e8e966d8079fd70"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type for time point. <br /></td></tr>
<tr class="separator:a2e1a8f8d9584ce8e9e8e966d8079fd70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a824ac247c71777955f3c22abe7fb3146"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#a824ac247c71777955f3c22abe7fb3146">prepare</a> (<a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#a2e1a8f8d9584ce8e9e8e966d8079fd70">id_t</a> const queue_id)</td></tr>
<tr class="memdesc:a824ac247c71777955f3c22abe7fb3146"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type for the ID of a queue.  <a href="#a824ac247c71777955f3c22abe7fb3146">More...</a><br /></td></tr>
<tr class="separator:a824ac247c71777955f3c22abe7fb3146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbb677d663a5928a0d086d4f3f613fca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#afbb677d663a5928a0d086d4f3f613fca">perform</a> (time_point_t const time)</td></tr>
<tr class="memdesc:afbb677d663a5928a0d086d4f3f613fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the tasks until the specified time.  <a href="#afbb677d663a5928a0d086d4f3f613fca">More...</a><br /></td></tr>
<tr class="separator:afbb677d663a5928a0d086d4f3f613fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade288bfbeda4e4d77b70e290f03472d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#ade288bfbeda4e4d77b70e290f03472d6">add</a> (<a class="el" href="classkiwi_1_1scheduler_1_1_task.html">Task</a> &amp;task, time_point_t const time)</td></tr>
<tr class="memdesc:ade288bfbeda4e4d77b70e290f03472d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a task at a specified time.  <a href="#ade288bfbeda4e4d77b70e290f03472d6">More...</a><br /></td></tr>
<tr class="separator:ade288bfbeda4e4d77b70e290f03472d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e43b18c329a7b0afd6cfa3ebca98893"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#a4e43b18c329a7b0afd6cfa3ebca98893">remove</a> (<a class="el" href="classkiwi_1_1scheduler_1_1_task.html">Task</a> &amp;task)</td></tr>
<tr class="memdesc:a4e43b18c329a7b0afd6cfa3ebca98893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a task.  <a href="#a4e43b18c329a7b0afd6cfa3ebca98893">More...</a><br /></td></tr>
<tr class="separator:a4e43b18c329a7b0afd6cfa3ebca98893"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The manager of tasks. </p>
<p>The scheduler manages a set of tasks inside several queues. It a single consumer but it can accepts several producer defined by ids, that match with queues. So to add several events in a concurrency context, you need a use a different id for each thread. And of course, you can use several ids inside the same thread. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>later we can add priorities. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ade288bfbeda4e4d77b70e290f03472d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkiwi_1_1scheduler_1_1_task.html">Task</a> &amp;&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_point_t const&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a task at a specified time. </p>
<p>The method performs adds a tasks of to its queues, and allocate a new queue if needed. Only one instance of a task can be added to a queue because the task owns its time point, so if the queue owns two instances of the same task one of these instances won't have the right time. Therefore, the task is removed from the queue if it has already been added and not consumed. The task is already defined by a queue's id, so at the end only one instance of a task can be added to a scheduler. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to add. </td></tr>
    <tr><td class="paramname">time</td><td>The time point where the task should be inserted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afbb677d663a5928a0d086d4f3f613fca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void perform </td>
          <td>(</td>
          <td class="paramtype">time_point_t const&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the tasks until the specified time. </p>
<p>The method performs all the tasks of all the queues, until the defined time point. So for each queue, the method calls all the task before the specified time and then adds tasks that could have been added during this operation. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The time point. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>We can add another time point that specified when we should avoid to continue the process. </dd></dl>

</div>
</div>
<a class="anchor" id="a824ac247c71777955f3c22abe7fb3146"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#a2e1a8f8d9584ce8e9e8e966d8079fd70">id_t</a> const&#160;</td>
          <td class="paramname"><em>queue_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The type for the ID of a queue. </p>
<p>Prepare the scheduler for a specific queue.</p>
<p>If a queue has never been used, the first use of queue calls its allocator. If for some case, you want to avoid this allocation, for example in the audio thead, you can this method to pre-allocate the queue. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue_id</td><td>The id of the queue to prepare. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4e43b18c329a7b0afd6cfa3ebca98893"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkiwi_1_1scheduler_1_1_task.html">Task</a> &amp;&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a task. </p>
<p>... </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
