<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>KiwiScheduler: kiwi::scheduler::Scheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KiwiScheduler
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>kiwi</b></li><li class="navelem"><b>scheduler</b></li><li class="navelem"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html">Scheduler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classkiwi_1_1scheduler_1_1_scheduler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">kiwi::scheduler::Scheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The container for a set of tasks.  
 <a href="classkiwi_1_1scheduler_1_1_scheduler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_kiwi_scheduler_8hpp_source.html">KiwiScheduler.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab23c2f3d5a7b6e87a84064110876fb9b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab23c2f3d5a7b6e87a84064110876fb9b"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>time_point_t</b> = Task::time_point_t</td></tr>
<tr class="separator:ab23c2f3d5a7b6e87a84064110876fb9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af13df18c6da526e94d8537abada859b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af13df18c6da526e94d8537abada859b3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#af13df18c6da526e94d8537abada859b3">Scheduler</a> ()</td></tr>
<tr class="memdesc:af13df18c6da526e94d8537abada859b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">the constructor. <br /></td></tr>
<tr class="separator:af13df18c6da526e94d8537abada859b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad87c5658b4bfe5a0d1726327db92f5bf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad87c5658b4bfe5a0d1726327db92f5bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#ad87c5658b4bfe5a0d1726327db92f5bf">~Scheduler</a> ()</td></tr>
<tr class="memdesc:ad87c5658b4bfe5a0d1726327db92f5bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">the destructor. <br /></td></tr>
<tr class="separator:ad87c5658b4bfe5a0d1726327db92f5bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a039f52186bbf02b05121b542c3fa0ad2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#a039f52186bbf02b05121b542c3fa0ad2">perform</a> (time_point_t const time)</td></tr>
<tr class="memdesc:a039f52186bbf02b05121b542c3fa0ad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the tasks until the specified time.  <a href="#a039f52186bbf02b05121b542c3fa0ad2">More...</a><br /></td></tr>
<tr class="separator:a039f52186bbf02b05121b542c3fa0ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a22ba6d9d93ada04ad244ccf21edf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#ad5a22ba6d9d93ada04ad244ccf21edf8">add</a> (<a class="el" href="classkiwi_1_1scheduler_1_1_task.html">Task</a> &amp;t, time_point_t const time)</td></tr>
<tr class="memdesc:ad5a22ba6d9d93ada04ad244ccf21edf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a task at a specified time.  <a href="#ad5a22ba6d9d93ada04ad244ccf21edf8">More...</a><br /></td></tr>
<tr class="separator:ad5a22ba6d9d93ada04ad244ccf21edf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eadcef213d7030021b5a06ad1e85964"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkiwi_1_1scheduler_1_1_scheduler.html#a7eadcef213d7030021b5a06ad1e85964">remove</a> (<a class="el" href="classkiwi_1_1scheduler_1_1_task.html">Task</a> const &amp;t)</td></tr>
<tr class="memdesc:a7eadcef213d7030021b5a06ad1e85964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a task.  <a href="#a7eadcef213d7030021b5a06ad1e85964">More...</a><br /></td></tr>
<tr class="separator:a7eadcef213d7030021b5a06ad1e85964"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The container for a set of tasks. </p>
<p>The scheduler manages a set of taks for one consumer and one producer. It means that only one thread can add the tasks and only one tread can consume the tasks. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>For the moment removing a task with the remove method isn't lock free (but it is within the add method). Perhaps we should create a lock free version of it, it would also simplify the add method. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad5a22ba6d9d93ada04ad244ccf21edf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kiwi::scheduler::Scheduler::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkiwi_1_1scheduler_1_1_task.html">Task</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_point_t const&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a task at a specified time. </p>
<p>Only one instance of a task can be added to the scheduler because the task owns its time point, so if the scheduler owns two instances of the same task one of these instances won't have the right time. Therefore, the task is removed from the list if it has already been added and not consumed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>The task to add. </td></tr>
    <tr><td class="paramname">time</td><td>The time point where the task should be inserted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a039f52186bbf02b05121b542c3fa0ad2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kiwi::scheduler::Scheduler::perform </td>
          <td>(</td>
          <td class="paramtype">time_point_t const&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the tasks until the specified time. </p>
<p>The method calls all the task before the specified time and then adds tasks that could have been added during this operation. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The time point. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7eadcef213d7030021b5a06ad1e85964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kiwi::scheduler::Scheduler::remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkiwi_1_1scheduler_1_1_task.html">Task</a> const &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a task. </p>
<p>Removing a task is not lock free. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>The task to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Sources/<a class="el" href="_kiwi_scheduler_8hpp_source.html">KiwiScheduler.hpp</a></li>
<li>Sources/KiwiScheduler.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
